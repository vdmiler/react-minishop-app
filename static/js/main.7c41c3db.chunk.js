(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},332:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n(42),i=n.n(r),o=(n(199),n(411)),s=n(15),u=(n(200),n(13)),l=(n(201),n(81)),j=n(107),d=n(397),b=n(409),h=n(395),O=n(385),x=n(386),m=n(402),f=n(182),p=n(175),g=n.n(p),v=n(1),y=function(e){var t=e.orders,n=void 0===t?[]:t,c=e.totalAmount,a=Object(s.f)(),r=l.a({name:l.b().min(2,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(20,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),surname:l.b().min(2,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(20,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 20 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),email:l.b().email('\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b"').required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),i={name:"",surname:"",email:""};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.a,{variant:"h4",component:"h1",sx:{mb:8},children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"}),function(){var e=Object(f.a)({initialValues:i,validationSchema:r,onSubmit:function(e){alert(JSON.stringify([e].concat(Object(u.a)(n)),null,2)),console.log([e].concat(Object(u.a)(n)))}});return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{className:"checkout__form",onSubmit:e.handleSubmit,children:[Object(v.jsxs)("div",{className:"checkout__fields",children:[Object(v.jsx)(j.a,{className:"checkout__title",variant:"h5",component:"h2",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),Object(v.jsx)("div",{className:"checkout__input",children:Object(v.jsx)(d.a,{fullWidth:!0,id:"name",name:"name",label:"\u0418\u043c\u044f",value:e.values.name,onChange:e.handleChange,error:e.touched.name&&Boolean(e.errors.name),helperText:e.touched.name&&e.errors.name})}),Object(v.jsx)("div",{className:"checkout__input",children:Object(v.jsx)(d.a,{fullWidth:!0,id:"surname",name:"surname",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",value:e.values.surname,onChange:e.handleChange,error:e.touched.surname&&Boolean(e.errors.surname),helperText:e.touched.surname&&e.errors.surname})}),Object(v.jsx)("div",{className:"checkout__input",children:Object(v.jsx)(d.a,{fullWidth:!0,id:"email",name:"email",label:"E-mail",value:e.values.email,onChange:e.handleChange,error:e.touched.email&&Boolean(e.errors.email),helperText:e.touched.email&&e.errors.email})})]}),Object(v.jsxs)("div",{className:"checkout__check",children:[Object(v.jsx)(j.a,{className:"checkout__title",variant:"h5",component:"h2",children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(v.jsxs)(b.a,{children:[n.map((function(e){return Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{children:Object(v.jsx)(g.a,{})}),Object(v.jsxs)(x.a,{children:[e.displayName," X ",e.quantity]})]},e.mainId)})),Object(v.jsx)(h.a,{children:Object(v.jsx)(x.a,{children:Object(v.jsxs)("strong",{children:["\u0412\u0441\u0435\u0433\u043e: ",c]})})})]}),Object(v.jsx)(m.a,{className:"checkout__btn",color:"primary",variant:"contained",fullWidth:!0,type:"submit",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})})}(),Object(v.jsx)(m.a,{variant:"outlined",onClick:function(){return a(-1)},sx:{mt:8},children:"\u041d\u0430\u0437\u0430\u0434"})]})},P=(n(308),n(410)),k=n(412),S=n(413),C=n(399),D=n(176),N=n.n(D),w=n(16),A=n(39),_=Object(A.c)({name:"basket",initialState:{orders:[],totalAmount:0,isBasketShow:!1,isNoticeShow:!1},reducers:{setOrders:function(e,t){e.orders=t.payload},setTotalAmount:function(e,t){e.totalAmount=t.payload},setBasketShow:function(e,t){e.isBasketShow=t.payload},setNoticeShow:function(e,t){e.isNoticeShow=t.payload}}}),I=_.actions,q=I.setOrders,F=I.setTotalAmount,z=I.setBasketShow,B=I.setNoticeShow,M=_.reducer,W=function(e){var t=e.quantity,n=Object(s.e)(),c=Object(w.b)();return Object(v.jsx)(P.a,{position:"fixed",children:Object(v.jsx)(o.a,{fixed:!0,children:Object(v.jsxs)(k.a,{children:[Object(v.jsx)(j.a,{variant:"h6",component:"span",sx:{flexGrow:1},children:"Mini Market"}),"/"===n.pathname?Object(v.jsx)(S.a,{edge:"start",color:"inherit",onClick:function(){return c(z(!0))},children:Object(v.jsx)(C.a,{color:"secondary",badgeContent:t,children:Object(v.jsx)(N.a,{})})}):null]})})})},L=n(420),E=n(27),V=(n(309),n(14)),X=(n(310),n(403)),J=n(416),T=n(417),Q=n(418),R=n(419),U=(n(311),n(391)),G=n(414),H=n(407),K=n(398),Y=n(390),Z=n(415),$=function(e){var t=e.mainId,n=e.imageUrl,c=e.displayName,a=e.displayDescription,r=e.finalPrice,i=e.isActiveModal,o=e.setActiveModal,s=e.clothingSize,l=e.setClothingSize,d=Object(w.b)(),b=Object(w.c)((function(e){return e.basket})).orders;return Object(v.jsx)(U.a,{open:i,onClose:function(){return o(!1)},"aria-labelledby":c,"aria-describedby":a,children:Object(v.jsxs)(G.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:400,width:"100%",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[Object(v.jsx)(j.a,{variant:"h6",component:"h2",children:c}),Object(v.jsx)(j.a,{sx:{mt:2,mb:2},children:a}),Object(v.jsx)(G.a,{sx:{textAlign:"center"},children:Object(v.jsx)("img",{src:n,alt:"",style:{width:"360px",height:"auto"}})}),Object(v.jsxs)(j.a,{sx:{mt:2},children:["\u0426\u0435\u043d\u0430: ",r]}),Object(v.jsx)(G.a,{sx:{maxWidth:100,mt:2},children:Object(v.jsxs)(H.a,{fullWidth:!0,children:[Object(v.jsx)(K.a,{id:"size-select-label",children:"\u0420\u0430\u0437\u043c\u0435\u0440:"}),Object(v.jsxs)(Y.a,{labelId:"size-label",id:"size-select",value:s,label:"\u0420\u0430\u0437\u043c\u0435\u0440",onChange:function(e){return l(e.target.value)},children:[Object(v.jsx)(Z.a,{value:"M",children:"M"}),Object(v.jsx)(Z.a,{value:"L",children:"L"}),Object(v.jsx)(Z.a,{value:"XL",children:"XL"}),Object(v.jsx)(Z.a,{value:"XXL",children:"XXL"})]})]})}),Object(v.jsx)(m.a,{variant:"outlined",size:"medium",color:"success",sx:{mt:4},onClick:function(){return function(e){var t=b.findIndex((function(t){return t.mainId===e.mainId}));if(t<0){var n=Object(E.a)(Object(E.a)({},e),{},{quantity:1});d(q([].concat(Object(u.a)(b),[n])))}else{var c=b.map((function(e,n){return n===t?Object(E.a)(Object(E.a)({},e),{},{quantity:e.quantity+1}):e}));d(q(c))}d(B(!0))}({mainId:t,displayName:c,finalPrice:r,clothingSize:s})},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})})},ee=function(e){var t=e.mainId,n=e.granted,c=e.displayName,r=e.price,i=e.displayDescription,o=n[0].images.full_background,s=r.finalPrice,u=Object(a.useState)(!1),l=Object(V.a)(u,2),d=l[0],b=l[1],h=Object(a.useState)(""),O=Object(V.a)(h,2),x=O[0],f=O[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(X.a,{item:!0,xs:12,md:4,children:Object(v.jsxs)(J.a,{sx:{maxWidth:345,height:"100%",margin:"0 auto"},children:[Object(v.jsx)(T.a,{component:"img",height:"auto",image:o,alt:"green iguana"}),Object(v.jsxs)(Q.a,{children:[Object(v.jsx)(j.a,{gutterBottom:!0,variant:"h5",component:"div",children:c}),Object(v.jsxs)(j.a,{variant:"h6",component:"div",sx:{mb:1,color:"#f44336"},children:[s," \u0433\u0440\u043d."]}),Object(v.jsx)(j.a,{variant:"body2",color:"text.secondary",children:i})]}),Object(v.jsx)(R.a,{children:Object(v.jsx)(m.a,{variant:"outlined",size:"medium",color:"success",sx:{ml:"auto"},onClick:function(){return b(!0)},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})})]})}),Object(v.jsx)($,{mainId:t,imageUrl:o,displayName:c,displayDescription:i,finalPrice:s,isActiveModal:d,setActiveModal:b,clothingSize:x,setClothingSize:f})]})},te=function(){var e=Object(w.c)((function(e){return e.productData})).modifiedProductData;return Object(v.jsx)(v.Fragment,{children:e?Object(v.jsx)(X.a,{container:!0,spacing:2,children:e.map((function(e){return Object(v.jsx)(ee,Object(E.a)({},e),e.mainId)}))}):Object(v.jsx)("h3",{style:{textAlign:"center"},children:"Nothing here"})})},ne=(n(312),n(392)),ce=n(3),ae=n(129),re=n.n(ae),ie=n(178),oe=n(179),se=n.n(oe),ue=Object(A.b)("products/fetchProductData",Object(ie.a)(re.a.mark((function e(){var t,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.a.get("https://fortniteapi.io/v2/shop?lang=ru",{headers:{Authorization:"b1036bbb-be62e965-f85a8fe6-9d3c4535"}});case 3:return t=e.sent,e.next=6,t.data.shop;case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))),le=Object(A.c)({name:"productData",initialState:{originProductData:[],modifiedProductData:[],loadingProgress:!1,errorFetch:null},reducers:{setOriginProductData:function(e,t){e.originProductData=t.payload},setModifiedProductData:function(e,t){e.modifiedProductData=t.payload}},extraReducers:(c={},Object(ce.a)(c,ue.pending,(function(e,t){e.loadingProgress=!0})),Object(ce.a)(c,ue.fulfilled,(function(e,t){e.loadingProgress=!1,e.originProductData=t.payload,e.modifiedProductData=t.payload})),Object(ce.a)(c,ue.rejected,(function(e,t){e.loadingProgress=!1,e.errorFetch=t.payload})),c)}),je=le.actions,de=(je.setOriginProductData,je.setModifiedProductData),be=le.reducer,he=Object(A.c)({name:"pagination",initialState:{currentPage:1,productsPerPage:12},reducers:{setCurrentPage:function(e,t){e.currentPage=t.payload},setProductsPerPage:function(e,t){e.productsPerPage=t.payload}}}),Oe=he.actions,xe=Oe.setCurrentPage,me=(Oe.setProductsPerPage,he.reducer),fe=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.productData})).originProductData,n=Object(w.c)((function(e){return e.pagination})),c=n.currentPage,r=n.productsPerPage,i=c*r,o=i-r,s=t.slice(o,i);Object(a.useEffect)((function(){e(de(s))}),[c]);var u=Math.ceil(t.length/r);return Object(v.jsx)("div",{children:Object(v.jsx)(ne.a,{variant:"outlined",color:"primary",count:u,page:c,onChange:function(t,n){e(xe(n))},sx:{display:"flex",justifyContent:"center",mt:5}})})},pe=(n(332),Object(A.c)({name:"search",initialState:{searchValue:""},reducers:{setSearchValue:function(e,t){e.searchValue=t.payload}}})),ge=pe.actions.setSearchValue,ve=pe.reducer,ye=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.productData})).originProductData,n=Object(w.c)((function(e){return e.search})).searchValue;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(d.a,{label:"\u0423\u043c\u043d\u044b\u0439 \u043f\u043e\u0438\u0441\u043a...",variant:"outlined",fullWidth:!0,type:"search",value:n,onChange:function(n){return function(n){if(!n)return e(de(t)),void e(ge(""));e(ge(n)),e(de(t.filter((function(e){return e.displayName.toLowerCase().includes(n.toLowerCase())}))))}(n.target.value)},sx:{mb:"1.5rem"}})})},Pe=(n(333),n(404)),ke=(n(334),n(388)),Se=n(389),Ce=n(102),De=(n(335),n(387)),Ne=n(181),we=n.n(Ne),Ae=n(180),_e=n.n(Ae),Ie=function(e){var t=e.mainId,n=e.displayName,c=e.finalPrice,a=e.quantity,r=e.plusQuantity,i=void 0===r?function(){}:r,o=e.minusQuantity,s=void 0===o?function(){}:o,u=e.removeFromOrder,l=void 0===u?function(){}:u;return Object(v.jsxs)(h.a,{children:[Object(v.jsxs)(x.a,{sx:{flexBasis:"200px"},children:[n," ",Object(v.jsxs)("strong",{children:[c," \u0433\u0440\u043d. x 1"]})]}),Object(v.jsxs)(x.a,{sx:{flexDirection:"column",justifyContent:"center",flexShrink:0},children:[Object(v.jsx)(m.a,{onClick:function(){return s(t)},children:Object(v.jsx)(_e.a,{})}),Object(v.jsx)("span",{children:a}),Object(v.jsx)(m.a,{onClick:function(){return i(t)},children:Object(v.jsx)(we.a,{})})]}),Object(v.jsx)(S.a,{onClick:function(){return l(t)},children:Object(v.jsx)(De.a,{})})]})},qe=function(e){var t=e.orders,n=void 0===t?[]:t,c=e.totalAmount,a=Object(w.b)(),r=function(e){var t=n.map((function(t){if(t.mainId===e){var n=t.quantity+1;return Object(E.a)(Object(E.a)({},t),{},{quantity:n})}return t}));a(q(t))},i=function(e){var t=n.map((function(t){if(t.mainId===e){var n=t.quantity-1;return Object(E.a)(Object(E.a)({},t),{},{quantity:n>=1?n:1})}return t}));a(q(t))},o=function(e){var t=n.filter((function(t){return t.mainId!==e}));a(q(t))};return Object(v.jsxs)(b.a,{sx:{width:"400px"},children:[Object(v.jsxs)(h.a,{children:[Object(v.jsx)(O.a,{children:Object(v.jsx)(ke.a,{})}),Object(v.jsx)(x.a,{primary:"Cart"})]}),Object(v.jsx)(Se.a,{}),n.length?Object(v.jsxs)(v.Fragment,{children:[n.map((function(e){return Object(v.jsx)(Ie,Object(E.a)(Object(E.a)({},e),{},{plusQuantity:r,minusQuantity:i,removeFromOrder:o}),e.mainId)})),Object(v.jsx)(Se.a,{}),Object(v.jsx)(h.a,{children:Object(v.jsx)(x.a,{sx:{fontWeight:700},children:Object(v.jsxs)("strong",{children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",c," \u0433\u0440\u043d."]})})}),Object(v.jsx)(h.a,{children:Object(v.jsx)(m.a,{component:Ce.b,to:"/checkout",variant:"outlined",onClick:function(){return a(z(!1))},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0443"})})]}):Object(v.jsx)(h.a,{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"})]})},Fe=function(e){var t=e.orders,n=void 0===t?[]:t,c=e.totalAmount,a=Object(w.b)(),r=Object(w.c)((function(e){return e.basket})).isBasketShow;return Object(v.jsx)(Pe.a,{anchor:"right",open:r,onClose:function(){return a(z(!1))},children:Object(v.jsx)(qe,{orders:n,totalAmount:c})})},ze=(n(336),n(396)),Be=n(394),Me=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.basket})).isNoticeShow;return Object(v.jsx)("div",{children:Object(v.jsx)(ze.a,{open:t,onClose:function(){return e(B(!1))},autoHideDuration:4e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(v.jsx)(Be.a,{severity:"info",children:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443!"})})})},We=function(e){var t=e.orders,n=e.totalAmount,c=Object(w.c)((function(e){return e.search})).searchValue,a=Object(w.c)((function(e){return e.productData})),r=a.modifiedProductData,i=a.loadingProgress,o=Object(s.e)();return Object(v.jsxs)(v.Fragment,{children:[i?Object(v.jsx)(L.a,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ye,{}),0!==r.length?Object(v.jsx)(te,{}):Object(v.jsx)("h3",{style:{textAlign:"center"},children:"Nothing not found"}),""===c?Object(v.jsx)(fe,{}):null]}),"/"===o.pathname?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Fe,{orders:t,totalAmount:n}),Object(v.jsx)(Me,{})]}):null]})},Le=function(){var e=Object(w.b)(),t=Object(w.c)((function(e){return e.basket})),n=t.orders,c=t.totalAmount,r=Object(a.useRef)(!0);return Object(a.useEffect)((function(){e(ue())}),[]),Object(a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("orders"));null!==t&&t.length>0&&e(q(t))}),[]),Object(a.useEffect)((function(){r.current?r.current=!1:localStorage.setItem("orders",JSON.stringify(n))}),[n]),Object(a.useEffect)((function(){e(F(n.reduce((function(e,t){return e+t.finalPrice*t.quantity}),0)))}),[n]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(W,{quantity:n.length}),Object(v.jsx)(o.a,{sx:{pt:"120px",pb:"88px"},children:Object(v.jsxs)(s.c,{children:[Object(v.jsx)(s.a,{path:"/",element:Object(v.jsx)(We,{orders:n,totalAmount:c})}),Object(v.jsx)(s.a,{path:"checkout",element:Object(v.jsx)(y,{orders:n,totalAmount:c})})]})})]})},Ee=Object(A.a)({reducer:{productData:be,basket:M,pagination:me,search:ve}});i.a.render(Object(v.jsx)(Ce.a,{children:Object(v.jsx)(w.a,{store:Ee,children:Object(v.jsx)(Le,{})})}),document.getElementById("root"))}},[[337,1,2]]]);
//# sourceMappingURL=main.7c41c3db.chunk.js.map